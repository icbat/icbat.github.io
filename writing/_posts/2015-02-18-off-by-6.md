---
layout: post
title: Off by 6 - the most subtle bug I've seen to date
---

I'm still a (very) young and naive developer, but this is the worst bug I've uncovered so far.

All examples below have been reconstructed from memory to try and communicate the gist of the idea.

## Some background

- the team
- the fires
- v2b

## The problem:  E-905

- No logs
- bill starting

## RAP

- I work on RAP w/ Matt
- Oh hello, BS box!

## Steps to reproduce

- picking back up from cold trail
- 7 types of 905 error
- talk to deb, make list of exactly all the cases
- start to draw the picture for exactly what our process is
- now we know RAP does v2b too

## Logs!

- There's a seccond V2b! who'd have thought?
- there are logs on this box
- this is where Matt was telling us to look!
- Negative dates from the log!

## Epiphany

So we're sending in bad data. But the dates on the business object itself seem fine; they're formatted the same as successful transactions and the numbers all seem sane. So where do those come from, anyway?

-- code snippit for getZeroDate

Negative dates don't make much sense, but in the context of the code, this'll get you pretty close. But 6 is a pretty suggestive number for a time to be off where I'm from. We live in UTC-6, and due to a very time-sensitive system, this sort of thing screws up all sorts of debugging.

So something's off 